{"version":3,"file":"static/js/168.499e53fe.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","servises/search_Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Reviews_title__t265C\",\"list\":\"Reviews_list__okdpy\",\"item\":\"Reviews_item__DJKij\",\"btn\":\"Reviews_btn__QIldu\"};","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getMovieReviews } from '../../servises/search_Api';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const { movieId } = useParams();\n  const [error, setError] = useState('');\n  const [expandedReviews, setExpandedReviews] = useState([]);\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    getMovieReviews(movieId)\n      .then(({ results }) => {\n        if (!results.length) {\n          setError('There are no reviews yet. Look later');\n          return;\n        }\n        setReviews(results);\n        setError('');\n      })\n      .catch(() =>\n        setError(\n          \"I'm sorry, but something went wrong... Please, try again later\"\n        )\n      );\n  }, [movieId]);\n\n  const handleShowMore = reviewId => {\n    setExpandedReviews(prev => [...prev, reviewId]);\n  };\n\n  return (\n    <div>\n      <h2 className={css.title}>Movie Reviews</h2>\n      {reviews.length > 0 ? (\n        <ul className={css.list}>\n          {reviews.map(review => (\n            <li className={css.item} key={review.id}>\n              <h3>{review.author}</h3>\n              <p>\n                {expandedReviews.includes(review.id)\n                  ? review.content\n                  : `${review.content.slice(0, 300)}...`}\n              </p>\n              {review.content.length > 500 &&\n                !expandedReviews.includes(review.id) && (\n                  <button\n                    className={css.btn}\n                    onClick={() => handleShowMore(review.id)}\n                  >\n                    Show more\n                  </button>\n                )}\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>{error}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst API_KEY = '6b2f249c49a040541fc751a7fb9d7fc1';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport async function searchTrendingMovies() {\n  const endpoint = '/trending/movie/day';\n  const response = await axios.get(`${BASE_URL}${endpoint}?api_key=${API_KEY}`);\n  return response.data;\n}\n\nexport async function searchMovieById(id) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${id}?api_key=${API_KEY}`\n    );\n    return response.data;\n  } catch (error) {\n    throw new Error(\n      \"I'm sorry, but something went wrong... Please, try again later\"\n    );\n  }\n}\n\nexport async function searchMoviesByQuery(query) {\n  const endpoint = '/search/movie';\n  try {\n    const response = await axios.get(\n      `${BASE_URL}${endpoint}?api_key=${API_KEY}&query=${query}`\n    );\n    return response.data.results;\n  } catch (error) {\n    throw new Error(\n      \"I'm sorry, but something went wrong... Please, try again later\"\n    );\n  }\n}\n\nexport async function getMovieCredits(id) {\n  const endpoint = `/movie/${id}/credits`;\n  try {\n    const response = await axios.get(\n      `${BASE_URL}${endpoint}?api_key=${API_KEY}`\n    );\n    return response.data;\n  } catch (error) {\n    throw new Error(\n      \"I'm sorry, but something went wrong... Please, try again later\"\n    );\n  }\n}\n\nexport async function getMovieReviews(id) {\n  const endpoint = `/movie/${id}/reviews`;\n  try {\n    const response = await axios.get(\n      `${BASE_URL}${endpoint}?api_key=${API_KEY}`\n    );\n    return response.data;\n  } catch (error) {\n    throw new Error(\n      \"I'm sorry, but something went wrong... Please, try again later\"\n    );\n  }\n}\n"],"names":["_useState","useState","_useState2","_slicedToArray","reviews","setReviews","movieId","useParams","_useState3","_useState4","error","setError","_useState5","_useState6","expandedReviews","setExpandedReviews","useEffect","getMovieReviews","then","_ref","results","length","catch","_jsxs","children","_jsx","className","css","map","review","author","includes","id","content","concat","slice","onClick","reviewId","prev","_toConsumableArray","API_KEY","BASE_URL","searchTrendingMovies","_searchTrendingMovies","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","next","axios","sent","abrupt","data","stop","searchMovieById","_x","_searchMovieById","_callee2","_context2","t0","Error","searchMoviesByQuery","_x2","_searchMoviesByQuery","_callee3","query","_context3","getMovieCredits","_x3","_getMovieCredits","_callee4","endpoint","_context4","_x4","_getMovieReviews","_callee5","_context5"],"sourceRoot":""}