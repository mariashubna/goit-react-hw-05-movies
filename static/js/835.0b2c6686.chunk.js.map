{"version":3,"file":"static/js/835.0b2c6686.chunk.js","mappings":"+LACA,EAAuB,qBAAvB,EAAoD,sBAApD,EAAiF,qBAAjF,EAA6G,qBAA7G,EAA2I,uBAA3I,EAA2K,uB,SCgD3K,EA9Ce,SAAHA,GAAoB,IAAdC,EAAMD,EAANC,OAGVC,EAAc,CAClBC,KAAM,UACNC,MAAO,OACPC,IAAK,WAGDC,GAAWC,EAAAA,EAAAA,MACjB,OACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAASC,SACrBV,EAAOW,KAAI,SAACC,GAAK,OAChBL,EAAAA,EAAAA,KAAA,MAAAG,UACEG,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CAACC,GAAE,WAAAC,OAAaJ,EAAMK,IAAMC,MAAO,CAACC,KAAMd,GAAWG,UAAWC,EAASC,SAAA,EAC5EH,EAAAA,EAAAA,KAAA,OAAAG,UACAH,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EACdW,IACER,EAAMS,YAAW,GAAAL,OAjBX,8BAkBU,QAAAA,OAAOJ,EAAMS,aAC3B,qHAEJC,IAAKV,EAAMW,WAGbhB,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAUC,SAAEE,EAAMW,SACjChB,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAASC,SACpB,IAAIc,KAAKZ,EAAMa,cAAcC,mBAC5B,QACAzB,MAGJM,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAWC,SACC,IAAvBE,EAAMe,aACH,KAAI,GAAAX,OACDY,KAAKC,MAA2B,GAArBjB,EAAMe,cAAkB,WAtBvCf,EAAMK,GAyBV,KAIb,C,oIC5CA,EAAuB,wBAAvB,EAAqD,uB,SCKxCa,EAAY,WACvB,IAAAC,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,GAA0BV,EAAAA,EAAAA,UAAS,IAAGW,GAAAT,EAAAA,EAAAA,GAAAQ,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAwBtB,OAPAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQP,EAAaQ,IAAI,SAC3BD,GACFX,EAASW,EAEb,GAAG,CAACP,KAGF3B,EAAAA,EAAAA,MAAAoC,EAAAA,SAAA,CAAAvC,SAAA,EACEH,EAAAA,EAAAA,KAAC2C,EAAAA,GAAM,CAACC,cAAe,CAAEC,YAAa,IAAMC,SAnB3B,WACL,KAAVlB,GAKJM,EAAgB,CAAEN,MAAOA,IACzBU,EAAS,KALPA,EAAS,iCAMb,EAWuEnC,UACjEG,EAAAA,EAAAA,MAACyC,EAAAA,GAAI,CAAC9C,UAAWC,EAASC,SAAA,EACxBH,EAAAA,EAAAA,KAACgD,EAAAA,GAAK,CACJR,MAAOZ,EACPqB,KAAK,cACLC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,SAjCW,SAAH9D,GAA+B,IAAfgD,EAAKhD,EAAf+D,OAAUf,MAC3BA,GAAON,EAAgB,CAAC,GAC7BL,EAASW,EACX,KAiCQlC,EAAAA,EAAAA,MAAA,UAAQ4C,KAAK,SAASjD,UAAWC,EAAQC,SAAA,EACvCH,EAAAA,EAAAA,KAACwD,EAAAA,IAAQ,KACTxD,EAAAA,EAAAA,KAAA,KAAAG,SAAG,mBAKE,KAAVkC,EAAe,IAAKrC,EAAAA,EAAAA,KAAA,OAAAG,SAAMkC,MAGjC,E,UCtBA,EA7BmB,WACjB,IAAAP,GAAuBC,EAAAA,EAAAA,MAAhBE,GAAiCN,EAAAA,EAAAA,GAAAG,EAAA,GAArB,GACnBN,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjC/B,EAAMiC,EAAA,GAAE+B,EAAS/B,EAAA,GACxBS,GAA0BV,EAAAA,EAAAA,UAAS,IAAGW,GAAAT,EAAAA,EAAAA,GAAAQ,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAkBtB,OAhBAG,EAAAA,EAAAA,YAAU,WACR,IAAMX,EAAQK,EAAaQ,IAAI,SAC1Bb,IAEL8B,EAAAA,EAAAA,IAAoB9B,GACjB+B,MAAK,SAACC,GACAA,EAAQC,QAIbJ,EAAUG,GACVtB,EAAS,KAJPA,EAAS,uCAAD7B,OAAwCmB,EAAMkC,cAAa,eAKvE,IACCC,OAAM,kBAAMzB,EAAS,iEAAiE,GAC3F,GAAG,CAACL,KAGF3B,EAAAA,EAAAA,MAAA,OAAAH,SAAA,EACEH,EAAAA,EAAAA,KAACuB,EAAS,IACC,KAAVc,GAAerC,EAAAA,EAAAA,KAACgE,EAAAA,EAAM,CAACvE,OAAQA,KAAaO,EAAAA,EAAAA,KAAA,KAAAG,SAAIkC,MAGvD,C,mMC/BM4B,EAAU,mCACVC,EAAW,+BAEV,SAAeC,IAAoB,OAAAC,EAAAC,MAAC,KAADC,UAAA,CAIzC,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,GAAAC,IAAAA,MAJM,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACiC,MAArB,sBAAqBF,EAAAE,KAAA,EACfC,EAAAA,EAAAA,IAAU,GAADrE,OAAIyD,GAAQzD,OAD3B,sBACsC,aAAAA,OAAYwD,IAAW,KAAD,EAA/D,OAARS,EAAQC,EAAAI,KAAAJ,EAAAK,OAAA,SACPN,EAASO,MAAI,wBAAAN,EAAAO,OAAA,GAAAT,EAAA,MACrBJ,MAAA,KAAAC,UAAA,CAIM,SAAea,EAAeC,GAAA,OAAAC,EAAAhB,MAAC,KAADC,UAAA,CAOpC,SAAAe,IAAA,OAAAA,GAAAd,EAAAA,EAAAA,GAAAC,IAAAA,MAPM,SAAAc,EAA+B5E,GAAE,IAAAgE,EAAA,OAAAF,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,cAAAU,EAAAX,KAAA,EAAAW,EAAAV,KAAA,EAEbC,EAAAA,EAAAA,IAAU,GAADrE,OAAIyD,EAAQ,WAAAzD,OAAUC,EAAE,aAAAD,OAAYwD,IAAW,KAAD,EAAhE,OAARS,EAAQa,EAAAR,KAAAQ,EAAAP,OAAA,SACPN,EAASO,MAAI,aAAAM,EAAAX,KAAA,EAAAW,EAAAC,GAAAD,EAAA,SAEd,IAAIE,MAAM,kEAAkE,KAAD,oBAAAF,EAAAL,OAAA,GAAAI,EAAA,mBAEpFjB,MAAA,KAAAC,UAAA,CAGM,SAAeZ,EAAmBgC,GAAA,OAAAC,EAAAtB,MAAC,KAADC,UAAA,CAQxC,SAAAqB,IAAA,OAAAA,GAAApB,EAAAA,EAAAA,GAAAC,IAAAA,MARM,SAAAoB,EAAmChE,GAAK,IAAA8C,EAAA,OAAAF,IAAAA,MAAA,SAAAqB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,OACb,MAAf,gBAAegB,EAAAjB,KAAA,EAAAiB,EAAAhB,KAAA,EAEPC,EAAAA,EAAAA,IAAU,GAADrE,OAAIyD,GAAQzD,OAF7B,gBAEwC,aAAAA,OAAYwD,EAAO,WAAAxD,OAAUmB,IAAS,KAAD,EAA9E,OAAR8C,EAAQmB,EAAAd,KAAAc,EAAAb,OAAA,SACPN,EAASO,KAAKrB,SAAO,aAAAiC,EAAAjB,KAAA,EAAAiB,EAAAL,GAAAK,EAAA,SAEtB,IAAIJ,MAAM,kEAAkE,KAAD,oBAAAI,EAAAX,OAAA,GAAAU,EAAA,mBAEpFvB,MAAA,KAAAC,UAAA,CAEM,SAAewB,EAAeC,GAAA,OAAAC,EAAA3B,MAAC,KAADC,UAAA,CAQpC,SAAA0B,IAAA,OAAAA,GAAAzB,EAAAA,EAAAA,GAAAC,IAAAA,MARM,SAAAyB,EAA+BvF,GAAE,IAAAwF,EAAAxB,EAAA,OAAAF,IAAAA,MAAA,SAAA2B,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OACT,OAAvBqB,EAAQ,UAAAzF,OAAaC,EAAE,YAAAyF,EAAAvB,KAAA,EAAAuB,EAAAtB,KAAA,EAEJC,EAAAA,EAAAA,IAAU,GAADrE,OAAIyD,GAAQzD,OAAGyF,EAAQ,aAAAzF,OAAYwD,IAAW,KAAD,EAA/D,OAARS,EAAQyB,EAAApB,KAAAoB,EAAAnB,OAAA,SACPN,EAASO,MAAI,aAAAkB,EAAAvB,KAAA,EAAAuB,EAAAX,GAAAW,EAAA,SAEd,IAAIV,MAAM,kEAAkE,KAAD,oBAAAU,EAAAjB,OAAA,GAAAe,EAAA,mBAEpF5B,MAAA,KAAAC,UAAA,CAEM,SAAe8B,EAAeC,GAAA,OAAAC,EAAAjC,MAAC,KAADC,UAAA,CAQpC,SAAAgC,IAAA,OAAAA,GAAA/B,EAAAA,EAAAA,GAAAC,IAAAA,MARM,SAAA+B,EAA+B7F,GAAE,IAAAwF,EAAAxB,EAAA,OAAAF,IAAAA,MAAA,SAAAgC,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,OACT,OAAvBqB,EAAQ,UAAAzF,OAAaC,EAAE,YAAA8F,EAAA5B,KAAA,EAAA4B,EAAA3B,KAAA,EAEJC,EAAAA,EAAAA,IAAU,GAADrE,OAAIyD,GAAQzD,OAAGyF,EAAQ,aAAAzF,OAAYwD,IAAW,KAAD,EAA/D,OAARS,EAAQ8B,EAAAzB,KAAAyB,EAAAxB,OAAA,SACPN,EAASO,MAAI,aAAAuB,EAAA5B,KAAA,EAAA4B,EAAAhB,GAAAgB,EAAA,SAEd,IAAIf,MAAM,kEAAkE,KAAD,oBAAAe,EAAAtB,OAAA,GAAAqB,EAAA,mBAEpFlC,MAAA,KAAAC,UAAA,C","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","pages/MoviesPage/MoviesPage.jsx","servises/search_Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__JEO-P\",\"title\":\"Movies_title__EqSqF\",\"link\":\"Movies_link__0oDWE\",\"date\":\"Movies_date__J5cmT\",\"rating\":\"Movies_rating__Q48wB\",\"poster\":\"Movies_poster__HRZqO\"};","import { useLocation, Link } from 'react-router-dom';\nimport css from './Movies.module.css'\n\nconst Movies = ({ movies }) => {\n  const PICTURE_URL = 'https://image.tmdb.org/t/p/';\n\n  const dateOptions = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  };\n\n  const location = useLocation();\n  return (\n    <ul className={css.list}>\n      {movies.map((movie) => (\n        <li key={movie.id}>\n          <Link to={`/movies/${movie.id}`} state={{from: location}} className={css.link}>\n            <div>\n            <img className={css.poster}\n              src={\n                movie.poster_path\n                ? `${PICTURE_URL}w200${movie.poster_path}`\n                : 'https://img.freepik.com/premium-vector/iphone-mobile-wallpaper-abstract-background-design-background_684242-38.jpg'\n              }\n              alt={movie.title}\n            />\n            </div>\n            <h2 className={css.title}>{movie.title}</h2>\n            <p className={css.date}>\n              {new Date(movie.release_date).toLocaleDateString(\n                'en-US',\n                dateOptions\n              )}\n            </p>\n            <p className={css.rating}>    \n              {movie.vote_average === 0\n                ? 'NR'\n                : `${Math.round(movie.vote_average * 10)}%`}\n            </p>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\n\n\nexport default Movies","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"btn\":\"SearchBar_btn__PKGSc\"};","import { Formik, Field, Form } from 'formik';\nimport { BsSearch } from 'react-icons/bs';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './SearchBar.module.css'\n\nexport const SearchBar = () => {\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [error, setError] = useState('');\n\n  const handleChange = ({ target: { value } }) => {\n    if (!value) setSearchParams({});\n    setQuery(value);\n  };\n\n  const handleSearch = () => {\n    if (query === '') {\n      setError('Please enter your search query');\n      return;\n    }\n\n    setSearchParams({ query: query });\n    setError('');\n  };\n\n  useEffect(() => {\n    const value = searchParams.get('query');\n    if (value) {\n      setQuery(value);\n    }\n  }, [searchParams]);\n\n  return (\n    <>\n      <Formik initialValues={{ searchQuery: '' }} onSubmit={handleSearch} >\n        <Form className={css.form}>\n          <Field\n            value={query}\n            name=\"searchQuery\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search films\"\n            onChange={handleChange}\n          />\n\n          <button type=\"submit\" className={css.btn}>\n            <BsSearch />\n            <p>Search</p>\n          </button>\n        </Form>\n      </Formik>\n\n      {error === '' ? '' : <div>{error}</div>}\n    </>\n  );\n};","import Movies from '../../components/Movies/Movies';\nimport { SearchBar } from '../../components/SearchBar/SearchBar';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMoviesByQuery } from '../../servises/search_Api'; \n\nconst MoviesPage = () => {\n  const [searchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n    if (!query) return;\n\n    searchMoviesByQuery(query)\n      .then((results) => {\n        if (!results.length) {\n          setError(`Sorry, I found no movies mentioning ${query.toUpperCase()}. Try again`);\n          return;\n        }\n        setMovies(results);\n        setError('');\n      })\n      .catch(() => setError(\"I'm sorry, but something went wrong... Please, try again later\"));\n  }, [searchParams]);\n\n  return (\n    <div>\n      <SearchBar />\n      {error === '' ? <Movies movies={movies} /> : <p>{error}</p>}\n    </div>\n  );\n};\n\nexport default MoviesPage;\n\n","import axios from 'axios';\n\nconst API_KEY = '6b2f249c49a040541fc751a7fb9d7fc1';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport async function searchTrendingMovies() {\n  const endpoint = '/trending/movie/day';\n  const response = await axios.get(`${BASE_URL}${endpoint}?api_key=${API_KEY}`);\n  return response.data;\n}\n\n\n\nexport async function searchMovieById(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    throw new Error(\"I'm sorry, but something went wrong... Please, try again later\");\n  }\n}\n\n\nexport async function searchMoviesByQuery(query) {\n  const endpoint = '/search/movie';\n  try {\n    const response = await axios.get(`${BASE_URL}${endpoint}?api_key=${API_KEY}&query=${query}`);\n    return response.data.results;\n  } catch (error) {\n    throw new Error(\"I'm sorry, but something went wrong... Please, try again later\");\n  }\n}\n\nexport async function getMovieCredits(id) {\n  const endpoint = `/movie/${id}/credits`;\n  try {\n    const response = await axios.get(`${BASE_URL}${endpoint}?api_key=${API_KEY}`);\n    return response.data;  \n  } catch (error) {\n    throw new Error(\"I'm sorry, but something went wrong... Please, try again later\");\n  }\n}\n\nexport async function getMovieReviews(id) {\n  const endpoint = `/movie/${id}/reviews`;\n  try {\n    const response = await axios.get(`${BASE_URL}${endpoint}?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    throw new Error(\"I'm sorry, but something went wrong... Please, try again later\");\n  }\n}"],"names":["_ref","movies","dateOptions","year","month","day","location","useLocation","_jsx","className","css","children","map","movie","_jsxs","Link","to","concat","id","state","from","src","poster_path","alt","title","Date","release_date","toLocaleDateString","vote_average","Math","round","SearchBar","_useState","useState","_useState2","_slicedToArray","query","setQuery","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","_useState3","_useState4","error","setError","useEffect","value","get","_Fragment","Formik","initialValues","searchQuery","onSubmit","Form","Field","name","type","autoComplete","autoFocus","placeholder","onChange","target","BsSearch","setMovies","searchMoviesByQuery","then","results","length","toUpperCase","catch","Movies","API_KEY","BASE_URL","searchTrendingMovies","_searchTrendingMovies","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","axios","sent","abrupt","data","stop","searchMovieById","_x","_searchMovieById","_callee2","_context2","t0","Error","_x2","_searchMoviesByQuery","_callee3","_context3","getMovieCredits","_x3","_getMovieCredits","_callee4","endpoint","_context4","getMovieReviews","_x4","_getMovieReviews","_callee5","_context5"],"sourceRoot":""}